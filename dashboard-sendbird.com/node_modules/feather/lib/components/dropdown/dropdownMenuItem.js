"use strict";function _typeof(obj) {"@babel/helpers - typeof";if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}require("core-js/modules/es.object.keys.js");require("core-js/modules/es.symbol.js");require("core-js/modules/es.array.filter.js");require("core-js/modules/es.object.get-own-property-descriptor.js");require("core-js/modules/web.dom-collections.for-each.js");require("core-js/modules/es.object.get-own-property-descriptors.js");require("core-js/modules/es.array.iterator.js");require("core-js/modules/es.object.to-string.js");require("core-js/modules/es.string.iterator.js");require("core-js/modules/es.weak-map.js");require("core-js/modules/web.dom-collections.iterator.js");require("core-js/modules/es.symbol.description.js");require("core-js/modules/es.symbol.iterator.js");Object.defineProperty(exports, "__esModule", { value: true });exports.DropdownMenuItemWithDropdownContext = exports.DropdownMenuItem = void 0;var _react = _interopRequireWildcard(require("react"));

var _styledComponents = _interopRequireDefault(require("styled-components"));



var _cssVariables = _interopRequireDefault(require("../../../lib/theme/cssVariables"));


var _icon = require("../icon");
var _components = require("./components");
var _constants = require("./constants");
var _dropdownContext = require("./dropdownContext");
var _isDropdownItemEqual = require("./isDropdownItemEqual");var _jsxRuntime = require("react/jsx-runtime");function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function _getRequireWildcardCache(nodeInterop) {if (typeof WeakMap !== "function") return null;var cacheBabelInterop = new WeakMap();var cacheNodeInterop = new WeakMap();return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {return nodeInterop ? cacheNodeInterop : cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj, nodeInterop) {if (!nodeInterop && obj && obj.__esModule) {return obj;}if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") {return { default: obj };}var cache = _getRequireWildcardCache(nodeInterop);if (cache && cache.has(obj)) {return cache.get(obj);}var newObj = {};var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;for (var key in obj) {if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;if (desc && (desc.get || desc.set)) {Object.defineProperty(newObj, key, desc);} else {newObj[key] = obj[key];}}}newObj.default = obj;if (cache) {cache.set(obj, newObj);}return newObj;}function ownKeys(object, enumerableOnly) {var keys = Object.keys(object);if (Object.getOwnPropertySymbols) {var symbols = Object.getOwnPropertySymbols(object);if (enumerableOnly) {symbols = symbols.filter(function (sym) {return Object.getOwnPropertyDescriptor(object, sym).enumerable;});}keys.push.apply(keys, symbols);}return keys;}function _objectSpread(target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i] != null ? arguments[i] : {};if (i % 2) {ownKeys(Object(source), true).forEach(function (key) {_defineProperty(target, key, source[key]);});} else if (Object.getOwnPropertyDescriptors) {Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));} else {ownKeys(Object(source)).forEach(function (key) {Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));});}}return target;}function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}














var MenuItem = (0, _styledComponents.default)(_components.OptionListItem).withConfig({ displayName: "dropdownMenuItem__MenuItem", componentId: "sc-1gb3nvk-0" })(["position:relative;padding-right:44px;"]);




var CheckIcon = (0, _styledComponents.default)(_icon.Icon).withConfig({ displayName: "dropdownMenuItem__CheckIcon", componentId: "sc-1gb3nvk-1" })(["position:absolute;right:16px;top:50%;margin-top:-10px;transition:", ";transition-property:opacity;"],





_constants.defaultTransition.css);



var DropdownMenuItem = function DropdownMenuItem(_ref)








{var item = _ref.item,index = _ref.index,itemProps = _ref.itemProps,selectedItem = _ref.selectedItem,highlightedIndex = _ref.highlightedIndex,_ref$itemToString = _ref.itemToString,itemToString = _ref$itemToString === void 0 ? _constants.defaultItemToString : _ref$itemToString,itemToElement = _ref.itemToElement,style = _ref.style;
  var isSelected = !!selectedItem && (0, _isDropdownItemEqual.isDropdownItemEqual)(selectedItem, item);

  var checkIcon = (0, _react.useMemo)(
  function () {return /*#__PURE__*/(
      (0, _jsxRuntime.jsx)(CheckIcon, {
        icon: "done",
        size: 20,
        color: (0, _cssVariables.default)('purple-7'),
        "aria-hidden": isSelected ? undefined : true,
        style: { opacity: isSelected ? 1 : 0 } }));},


  [isSelected]);


  return /*#__PURE__*/(
    (0, _jsxRuntime.jsxs)(MenuItem, _objectSpread(_objectSpread({}, itemProps), {}, { isSelected: isSelected, isHighlighted: highlightedIndex === index, style: style, children: [
      itemToElement ? itemToElement(item, isSelected) : itemToString(item),
      checkIcon] })));


};exports.DropdownMenuItem = DropdownMenuItem;

var DropdownMenuItemWithDropdownContext = function DropdownMenuItemWithDropdownContext(
props)
{
  var _useContext =





  (0, _react.useContext)(_dropdownContext.DropdownContext),getItemProps = _useContext.getItemProps,selectedItem = _useContext.selectedItem,highlightedIndex = _useContext.highlightedIndex,itemToString = _useContext.itemToString,_useContext$dropdownP = _useContext.dropdownProps,itemToElement = _useContext$dropdownP.itemToElement,_useContext$dropdownP2 = _useContext$dropdownP.isItemDisabled,isItemDisabled = _useContext$dropdownP2 === void 0 ? function () {return false;} : _useContext$dropdownP2;

  var item = props.item,index = props.index;
  var itemProps = getItemProps({ item: item, index: index, disabled: isItemDisabled(item) });
  var propsFromContext = {
    itemProps: itemProps,
    selectedItem: selectedItem,
    highlightedIndex: highlightedIndex,
    itemToString: itemToString,
    itemToElement: itemToElement,
    isItemDisabled: isItemDisabled };


  return /*#__PURE__*/(0, _jsxRuntime.jsx)(DropdownMenuItem, _objectSpread(_objectSpread({}, props), propsFromContext));
};exports.DropdownMenuItemWithDropdownContext = DropdownMenuItemWithDropdownContext;